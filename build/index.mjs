var Je=Object.defineProperty,Xe=Object.defineProperties;var Ve=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var De=(t,e,n)=>e in t?Je(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||(e={}))$e.call(e,n)&&De(t,n,e[n]);if(he)for(var n of he(e))Ke.call(e,n)&&De(t,n,e[n]);return t},b=(t,e)=>Xe(t,Ve(e));import{getDate as Ye,format as ze,isToday as je}from"date-fns";import qe from"classnames";import{jsx as Ce,jsxs as et}from"react/jsx-runtime";var Qe={today:"-today",outside:"-outside",wide:"-wide",disabled:"-disabled",selected:"-selected",selectedStart:"-selected-start",selectedMiddle:"-selected-middle",selectedEnd:"-selected-end"},Ze={},ge=()=>{};function ee({date:t,height:e,locale:n,modifiers:o=Ze,modifiersClassNames:s,onClick:i=ge,onHover:l=ge}){let r=Ye(t),u=R({today:je(t)},o),g=R(R({},Qe),s),d=Object.fromEntries(Object.entries(u).map(([v,M])=>[g[v],M])),p=v=>{i(t),v.preventDefault()},m=()=>l(t),E=()=>l(null);return et("span",{className:qe("nice-dates-day",d),onClick:p,onMouseEnter:m,onMouseLeave:E,onTouchEnd:p,style:{height:e},children:[r===1&&Ce("span",{className:"nice-dates-day_month",children:ze(t,"LLL",{locale:n})}),Ce("span",{className:"nice-dates-day_date",children:r})]})}import ve from"classnames";import{addMonths as tt,getYear as Pe,startOfMonth as Re,subMonths as nt,format as ot,isSameMonth as Ee}from"date-fns";import{jsx as te,jsxs as rt}from"react/jsx-runtime";function ne({locale:t,month:e,minimumDate:n=null,maximumDate:o=null,onMonthChange:s}){let i=r=>{s(Re(nt(e,1))),r.preventDefault()},l=r=>{s(Re(tt(e,1))),r.preventDefault()};return rt("div",{className:"nice-dates-navigation",children:[te("a",{className:ve("nice-dates-navigation_previous",{"-disabled":n!=null&&Ee(e,n)}),onClick:i,onTouchEnd:i}),te("span",{className:"nice-dates-navigation_current",children:ot(e,Pe(e)===Pe(new Date)?"LLLL":"LLLL yyyy",{locale:t})}),te("a",{className:ve("nice-dates-navigation_next",{"-disabled":o!=null&&Ee(e,o)}),onClick:l,onTouchEnd:l})]})}import{eachDayOfInterval as Dt,isSameMonth as gt,lightFormat as Ct,startOfMonth as vt}from"date-fns";import Pt from"classnames";import{useRef as oe,useLayoutEffect as Te,useEffect as at,useReducer as st}from"react";import{addMonths as re,addWeeks as it,differenceInCalendarMonths as lt,differenceInCalendarWeeks as ct,endOfMonth as ye,endOfWeek as dt,isAfter as ut,isBefore as be,isSameMonth as ft,startOfMonth as ke,startOfWeek as mt,subMonths as Me}from"date-fns";var N="startDate",I="endDate",K="bottom",U="top";var S=(t,e,n)=>ct(e,t,{locale:n})+1,pt=(t,e)=>S(ke(t),ye(t),e),Y=(t,e)=>mt(ke(t),{locale:e}),z=(t,e)=>dt(it(ye(t),6-pt(t,e)),{locale:e}),Le=(t,e)=>({startDate:Y(t,e),endDate:z(t,e),cellHeight:0,isWide:!1,lastCurrentMonth:t,locale:e,offset:0,origin:U,transition:!1}),ht=(t,e)=>{switch(e.type){case"setStartDate":return b(R({},t),{startDate:e.value});case"setEndDate":return b(R({},t),{endDate:e.value});case"setRange":return b(R({},t),{startDate:e.startDate,endDate:e.endDate});case"setCellHeight":return b(R({},t),{cellHeight:e.value});case"setIsWide":return b(R({},t),{isWide:e.value});case"reset":return b(R({},Le(e.currentMonth,t.locale)),{cellHeight:t.cellHeight,isWide:t.isWide});case"transitionToCurrentMonth":{let{currentMonth:n}=e,{lastCurrentMonth:o,startDate:s,endDate:i,cellHeight:l}=t,r=b(R({},t),{lastCurrentMonth:n,transition:!0});if(ut(n,o)){let u=-(S(s,n,t.locale)-1)*l;return b(R({},r),{endDate:z(n,t.locale),offset:u,origin:U})}else if(be(n,o)){let u=l*6,g=S(n,i,t.locale)*l-u;return b(R({},r),{startDate:Y(n,t.locale),offset:g,origin:K})}return t}default:throw new Error("Unknown ".concat(e.type," action type"))}};function Se({locale:t,month:e,onMonthChange:n,transitionDuration:o,touchDragEnabled:s}){let i=oe(void 0),l=oe(null),r=oe(0),[{startDate:u,endDate:g,cellHeight:d,lastCurrentMonth:p,offset:m,origin:E,transition:v,isWide:M},f]=st(ht,Le(e,t));return Te(()=>{let a=!r.current;if(!ft(p,e)&&a){let C=l.current;C==null||C.classList.add("-transition"),clearTimeout(i.current),Math.abs(lt(e,p))<=3?(f({type:"transitionToCurrentMonth",currentMonth:e}),i.current=setTimeout(()=>f({type:"reset",currentMonth:e}),o)):f({type:"reset",currentMonth:e})}},[e]),Te(()=>{if(!s)return;let a=l.current,h=d*6/2;if(a){let P=y=>{var x;clearTimeout(i.current);let L=Number((x=window.getComputedStyle(a).transform.match(/([-+]?[\d.]+)/g))==null?void 0:x[5]),D=0;if(!r.current){let _=Y(Me(e,1),t);D=(S(_,e,t)-1)*d,f({type:"setRange",startDate:_,endDate:z(re(e,1),t)})}y.touches[0]&&(a.style.transform="translate3d(0, ".concat(String(L||-D),"px, 0)"),a.classList.remove("-transition"),a.classList.add("-moving"),r.current=y.touches[0].clientY+(-L||D))},T=y=>{if(!y.touches[0])return;let L=r.current,D=y.touches[0].clientY-L,x=Me(e,1),_=(S(u,x,t)-1)*d,c=(S(u,e,t)-1)*d,w=re(e,1),Fe=(S(u,w,t)-1)*d;if(D<0)Math.abs(D)>c&&be(g,re(e,2))&&f({type:"setEndDate",value:z(w,t)});else if(D>0){let pe=Y(x,t),Ue=(S(pe,e,t)-1)*d;r.current+=Ue,f({type:"setStartDate",value:pe})}let We=Math.abs(D)>Fe-h,_e=Math.abs(D)>_-h&&Math.abs(D)<c-h;We?n(w):_e&&n(x),a.style.transform="translate3d(0, ".concat(String(D),"px, 0)"),y.preventDefault()},k=y=>{let L=(S(u,e,t)-1)*d;a.style.transform="translate3d(0, ".concat(String(-L),"px, 0)"),a.classList.add("-transition"),a.classList.remove("-moving"),i.current=setTimeout(()=>{r.current=0,a.style.transform="translate3d(0, 0, 0)",a.classList.remove("-transition"),f({type:"reset",currentMonth:e})},o),y.changedTouches[0]&&Math.abs(r.current-L-y.changedTouches[0].clientY)>10&&(y.preventDefault(),y.stopPropagation())};return a.addEventListener("touchstart",P,{passive:!0}),a.addEventListener("touchmove",T,{passive:!1}),a.addEventListener("touchend",k,{passive:!1}),()=>{a.removeEventListener("touchstart",P),a.removeEventListener("touchmove",T),a.removeEventListener("touchend",k)}}}),at(()=>{let a=()=>{let C=l.current;if(!C)return;let P=C.offsetWidth/7,T=1,k=!1;P>60?(T+=Math.round(P*.75),k=!0):T+=Math.round(P),f({type:"setIsWide",value:k}),f({type:"setCellHeight",value:T})};return window.addEventListener("resize",a),a(),()=>window.removeEventListener("resize",a)},[]),{startDate:u,endDate:g,cellHeight:d,containerElementRef:l,offset:m,origin:E,transition:v,isWide:M}}import{jsx as ae}from"react/jsx-runtime";function Rt(t,e){return Object.fromEntries(Object.entries(t).map(([n,o])=>[n,o(e)]))}var Et={};function se({locale:t,month:e,modifiers:n=Et,modifiersClassNames:o,onMonthChange:s,onDayHover:i,onDayClick:l,transitionDuration:r=500,touchDragEnabled:u=!0}){let{startDate:g,endDate:d,cellHeight:p,containerElementRef:m,isWide:E,offset:v,origin:M,transition:f}=Se({locale:t,month:vt(e),onMonthChange:s,transitionDuration:r,touchDragEnabled:u}),a=Dt({start:g,end:d}).map(C=>ae(ee,{date:C,height:p,locale:t,modifiers:b(R({},Rt(n,C)),{outside:!gt(C,e),wide:E}),modifiersClassNames:o,onHover:i,onClick:l},Ct(C,"yyyy-MM-dd")));return ae("div",{className:"nice-dates-grid",style:{height:p*6},children:ae("div",{className:Pt("nice-dates-grid_container",{"-moving":v,"-origin-bottom":M===K,"-origin-top":M===U,"-transition":f}),ref:m,style:{transform:"translate3d(0, ".concat(String(v),"px, 0)"),transitionDuration:"".concat(String(r),"ms")},children:a})})}import{useMemo as Tt}from"react";import{eachDayOfInterval as Mt,endOfWeek as yt,startOfWeek as bt,format as kt,startOfDay as Lt}from"date-fns";import{jsx as xe}from"react/jsx-runtime";function ie({locale:t,weekdayFormat:e="eee"}){let n=Lt(new Date).getDate(),o=Tt(()=>Mt({start:bt(n,{locale:t}),end:yt(n,{locale:t})}).map(s=>kt(s,e,{locale:t})),[n,t,e]);return xe("div",{className:"nice-dates-week-header",children:o.map(s=>xe("span",{className:"nice-dates-week-header_day",children:s},s))})}import{startOfMonth as Ot}from"date-fns";import{differenceInDays as Ne,isAfter as St,isBefore as xt,startOfDay as J,set as Nt}from"date-fns";var O=(t,{minimumDate:e,maximumDate:n})=>!(e&&xt(t,J(e)))&&!(n&&St(t,n)),B=(t,e)=>e?Object.fromEntries(Object.entries(e).map(([n,o])=>{let s=t[n];return[n,s?i=>s(i)||o(i):o]})):t,X=(t,e)=>Nt(t,{hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()}),A=({startDate:t,endDate:e},{minimumLength:n,maximumLength:o})=>Ne(J(e),J(t))>=n&&(!o||Ne(J(e),J(t))<=o);import{useState as It}from"react";function G(t,e,n){let[o,s]=It(n);return e?[n!=null&&t==null?n:t,e]:[o,s]}import{jsx as le,jsxs as Ht}from"react/jsx-runtime";function V({locale:t,month:e=null,modifiers:n,modifiersClassNames:o,minimumDate:s=null,maximumDate:i=null,onMonthChange:l,onDayHover:r,onDayClick:u,weekdayFormat:g,touchDragEnabled:d}){let[p,m]=G(e,l,Ot(new Date)),E=B({disabled:v=>!O(v,{minimumDate:s,maximumDate:i})},n);return Ht("div",{children:[le(ne,{locale:t,minimumDate:s,maximumDate:i,month:p,onMonthChange:m}),le(ie,{locale:t,weekdayFormat:g}),le(se,{locale:t,modifiers:E,modifiersClassNames:o,month:p,onMonthChange:m,onDayHover:r,onDayClick:u,touchDragEnabled:d})]})}import{isSameDay as wt,startOfMonth as Bt}from"date-fns";import{jsx as At}from"react/jsx-runtime";function ce({locale:t,date:e=null,month:n=null,onDateChange:o,onMonthChange:s,minimumDate:i,maximumDate:l,modifiers:r,modifiersClassNames:u,weekdayFormat:g,touchDragEnabled:d}){let p=f=>!!(e&&wt(f,e)&&O(f,{minimumDate:i,maximumDate:l})),m=B({selected:p,disabled:p},r),[E,v]=G(n,s,Bt(e||new Date));return At(V,{locale:t,month:E,onMonthChange:v,onDayClick:f=>{o==null||o(e?X(f,e):f)},minimumDate:i,maximumDate:l,modifiers:m,modifiersClassNames:u,weekdayFormat:g,touchDragEnabled:d})}import{useState as Gt}from"react";import{differenceInDays as j,isSameDay as F,isAfter as de,isBefore as ue,startOfMonth as Ft,startOfDay as H}from"date-fns";import{jsx as Wt}from"react/jsx-runtime";var fe=()=>{};function me({locale:t,startDate:e=null,endDate:n=null,focus:o=null,month:s=null,onStartDateChange:i=fe,onEndDateChange:l=fe,onFocusChange:r=fe,onMonthChange:u,minimumDate:g,maximumDate:d,minimumLength:p=0,maximumLength:m,modifiers:E,modifiersClassNames:v,weekdayFormat:M,touchDragEnabled:f}){let[a,C]=Gt(null),[h,P]=G(s,u,Ft(e||n||new Date)),T=o===N&&!e&&n&&a&&!F(a,n)?a:e?H(e):null,k=o===I&&!n&&e&&a&&!F(a,e)?a:n?H(n):null,y=c=>!!(T&&k&&F(c,T)&&ue(c,k)),L=c=>!!(T&&k&&de(c,T)&&ue(c,k)),D=c=>!!(T&&k&&F(c,k)&&de(c,T)),x=B({selected:c=>!!(O(c,{minimumDate:g,maximumDate:d})&&(y(c)||L(c)||D(c)||e&&F(c,e)||n&&F(c,n))),selectedStart:y,selectedMiddle:L,selectedEnd:D,disabled:c=>!!(o===N&&n&&(j(H(n),c)<p&&(!e||!de(c,H(n)))||!e&&m&&j(H(n),c)>m)||o===I&&e&&(j(c,H(e))<p&&(!n||!ue(c,H(e)))||!n&&m&&j(c,H(e))>m))},E);return Wt(V,{locale:t,month:h,onMonthChange:P,onDayHover:C,onDayClick:c=>{if(o===N)n&&!A({startDate:c,endDate:n},{minimumLength:p,maximumLength:m})&&l(null),i(e?X(c,e):c),r(I);else if(o===I){let w=e&&!A({startDate:e,endDate:c},{minimumLength:p,maximumLength:m});w&&i(null),l(n?X(c,n):c),r(w||!e?N:null)}},minimumDate:g,maximumDate:d,modifiers:x,modifiersClassNames:v,weekdayFormat:M,touchDragEnabled:f})}import _t from"react";import Ut from"classnames";import{jsx as Jt}from"react/jsx-runtime";var $=_t.forwardRef(function({children:e,open:n},o){return Jt("div",{className:Ut("nice-dates-popover",{"-open":n}),ref:o,children:e})});import{useState as He}from"react";import{useEffect as Xt,useState as Ie}from"react";import{format as Vt,parse as $t,isValid as Kt}from"date-fns";function W({date:t=null,format:e,locale:n,minimumDate:o=null,maximumDate:s=null,onDateChange:i,validate:l}){var C;let r=e||((C=n.formatLong)==null?void 0:C.date({width:"short"})),u=h=>Vt(h,r,{locale:n}),g=h=>$t(h,r,t||new Date),d=h=>Kt(h)&&O(h,{minimumDate:o,maximumDate:s})&&(!l||l(h)),[p,m]=Ie(()=>d(t)?u(t):""),[E,v]=Ie(!1),M=()=>{v(!0)},f=h=>{let P=h.target.value,T=g(P);m(P),d(T)&&i(T)},a=()=>{if(p){let h=g(p);d(h)?m(u(h)):d(t)?m(u(t)):m("")}else t&&i(null);v(!1)};return Xt(()=>{E||m(d(t)?u(t):"")},[t,E]),{onFocus:M,onChange:f,onBlur:a,placeholder:r.toLowerCase(),type:"text",value:p}}import{useEffect as Yt,useState as zt}from"react";function q(){let[t,e]=zt(!1);return Yt(()=>{let n=()=>e(!0);return document.addEventListener("touchstart",n,{passive:!0,once:!0}),()=>document.removeEventListener("touchstart",n)},[]),t}import{useRef as Q,useEffect as Oe}from"react";function Z(t){let e=Q(null),n=Q(null),o=Q(null),s=Q(t);return Oe(()=>{s.current=t},[t]),Oe(()=>{let i=l=>{let r=l.target;(!e.current||"contains"in e.current&&!e.current.contains(r))&&(!n.current||"contains"in n.current&&!n.current.contains(r))&&(!o.current||"contains"in o.current&&!o.current.contains(r))&&s.current()};return document.addEventListener("click",i,{passive:!0}),()=>document.removeEventListener("click",i)},[]),[e,n,o]}import{jsx as we,jsxs as Qt}from"react/jsx-runtime";var jt=()=>{};function qt({children:t,locale:e,date:n=null,onDateChange:o=jt,format:s,minimumDate:i,maximumDate:l,modifiers:r,modifiersClassNames:u,weekdayFormat:g,touchDragEnabled:d}){let[p,m]=He(()=>n||new Date),[E,v]=He(!1),M=q(),[f,a]=Z(()=>{E&&v(!1)}),C=W({date:n,format:s,locale:e,minimumDate:i,maximumDate:l,onDateChange:P=>{o(P),P&&m(P)}}),h=P=>{o(P),v(!1)};return Qt("div",{className:"nice-dates",children:[t({inputProps:b(R({},C),{ref:f,onFocus:()=>{C.onFocus(),v(!0),M&&f.current&&f.current.blur()},readOnly:M}),focused:E}),we($,{open:E,ref:a,children:we(ce,{locale:e,date:n,month:p,onDateChange:h,onMonthChange:m,minimumDate:i,maximumDate:l,modifiers:r,modifiersClassNames:u,weekdayFormat:g,touchDragEnabled:d})})]})}import{useState as Be}from"react";import{jsx as Ge,jsxs as en}from"react/jsx-runtime";var Ae=()=>{};function Zt({children:t,locale:e,startDate:n=null,endDate:o=null,onStartDateChange:s=Ae,onEndDateChange:i=Ae,format:l,minimumDate:r,maximumDate:u,minimumLength:g=0,maximumLength:d,modifiers:p,modifiersClassNames:m,weekdayFormat:E,touchDragEnabled:v}){let[M,f]=Be(null),[a,C]=Be(()=>n||o||new Date),h=q(),[P,T,k]=Z(()=>f(null)),y=W({date:n,format:l,locale:e,maximumDate:u,minimumDate:r,onDateChange:D=>{s(D),D&&C(D)},validate:D=>!o||A({startDate:D,endDate:o},{minimumLength:g,maximumLength:d})}),L=W({date:o,format:l,locale:e,maximumDate:u,minimumDate:r,onDateChange:D=>{i(D),D&&C(D)},validate:D=>!n||A({startDate:n,endDate:D},{minimumLength:g,maximumLength:d})});return en("div",{className:"nice-dates",children:[t({startDateInputProps:b(R({},y),{onFocus:()=>{y.onFocus(),f(N),h&&P.current&&P.current.blur()},ref:P,readOnly:h}),endDateInputProps:b(R({},L),{onFocus:()=>{L.onFocus(),f(I),h&&T.current&&T.current.blur()},ref:T,readOnly:h}),focus:M}),Ge($,{open:!!M,ref:k,children:Ge(me,{locale:e,startDate:n,endDate:o,focus:M,month:a,onStartDateChange:s,onEndDateChange:i,onFocusChange:f,onMonthChange:C,minimumDate:r,maximumDate:u,minimumLength:g,maximumLength:d,modifiers:p,modifiersClassNames:m,weekdayFormat:E,touchDragEnabled:v})})]})}export{V as Calendar,ee as CalendarDay,se as CalendarGrid,ne as CalendarNavigation,ie as CalendarWeekHeader,qt as DatePicker,ce as DatePickerCalendar,Zt as DateRangePicker,me as DateRangePickerCalendar,I as END_DATE,$ as Popover,N as START_DATE,W as useDateInput};
//# sourceMappingURL=index.mjs.map