"use strict";var Ze=Object.create;var ee=Object.defineProperty,et=Object.defineProperties,tt=Object.getOwnPropertyDescriptor,nt=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertyNames,Le=Object.getOwnPropertySymbols,rt=Object.getPrototypeOf,xe=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var Se=(t,e,n)=>e in t?ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||(e={}))xe.call(e,n)&&Se(t,n,e[n]);if(Le)for(var n of Le(e))at.call(e,n)&&Se(t,n,e[n]);return t},L=(t,e)=>et(t,nt(e));var st=(t,e)=>{for(var n in e)ee(t,n,{get:e[n],enumerable:!0})},Ne=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of ot(e))!xe.call(t,r)&&r!==n&&ee(t,r,{get:()=>e[r],enumerable:!(o=tt(e,r))||o.enumerable});return t};var te=(t,e,n)=>(n=t!=null?Ze(rt(t)):{},Ne(e||!t||!t.__esModule?ee(n,"default",{value:t,enumerable:!0}):n,t)),it=t=>Ne(ee({},"__esModule",{value:!0}),t);var ht={};st(ht,{Calendar:()=>j,CalendarDay:()=>le,CalendarGrid:()=>pe,CalendarNavigation:()=>ce,CalendarWeekHeader:()=>he,DatePicker:()=>$e,DatePickerCalendar:()=>ge,DateRangePicker:()=>Ye,DateRangePickerCalendar:()=>Ce,END_DATE:()=>B,Popover:()=>q,START_DATE:()=>w,useDateInput:()=>J});module.exports=it(ht);var X=require("date-fns"),Oe=te(require("classnames"));var ne=require("react/jsx-runtime"),lt={today:"-today",outside:"-outside",wide:"-wide",disabled:"-disabled",selected:"-selected",selectedStart:"-selected-start",selectedMiddle:"-selected-middle",selectedEnd:"-selected-end"},ct={},Ie=()=>{};function le({date:t,height:e,locale:n,modifiers:o=ct,modifiersClassNames:r,onClick:i=Ie,onHover:l=Ie}){let a=(0,X.getDate)(t),f=T({today:(0,X.isToday)(t)},o),v=T(T({},lt),r),d=Object.fromEntries(Object.entries(f).map(([R,b])=>[v[R],b])),D=R=>{i(t),R.preventDefault()},h=()=>l(t),M=()=>l(null);return(0,ne.jsxs)("span",{className:(0,Oe.default)("nice-dates-day",d),onClick:D,onMouseEnter:h,onMouseLeave:M,onTouchEnd:D,style:{height:e},children:[a===1&&(0,ne.jsx)("span",{className:"nice-dates-day_month",children:(0,X.format)(t,"LLL",{locale:n})}),(0,ne.jsx)("span",{className:"nice-dates-day_date",children:a})]})}var Ee=te(require("classnames")),S=require("date-fns"),V=require("react/jsx-runtime");function ce({locale:t,month:e,minimumDate:n=null,maximumDate:o=null,onMonthChange:r}){let i=a=>{r((0,S.startOfMonth)((0,S.subMonths)(e,1))),a.preventDefault()},l=a=>{r((0,S.startOfMonth)((0,S.addMonths)(e,1))),a.preventDefault()};return(0,V.jsxs)("div",{className:"nice-dates-navigation",children:[(0,V.jsx)("a",{className:(0,Ee.default)("nice-dates-navigation_previous",{"-disabled":n!=null&&(0,S.isSameMonth)(e,n)}),onClick:i,onTouchEnd:i}),(0,V.jsx)("span",{className:"nice-dates-navigation_current",children:(0,S.format)(e,(0,S.getYear)(e)===(0,S.getYear)(new Date)?"LLLL":"LLLL yyyy",{locale:t})}),(0,V.jsx)("a",{className:(0,Ee.default)("nice-dates-navigation_next",{"-disabled":o!=null&&(0,S.isSameMonth)(e,o)}),onClick:l,onTouchEnd:l})]})}var F=require("date-fns"),Be=te(require("classnames"));var O=require("react"),p=require("date-fns");var w="startDate",B="endDate",de="bottom",oe="top";var A=(t,e,n)=>(0,p.differenceInCalendarWeeks)(e,t,{locale:n})+1,dt=(t,e)=>A((0,p.startOfMonth)(t),(0,p.endOfMonth)(t),e),ue=(t,e)=>(0,p.startOfWeek)((0,p.startOfMonth)(t),{locale:e}),fe=(t,e)=>(0,p.endOfWeek)((0,p.addWeeks)((0,p.endOfMonth)(t),6-dt(t,e)),{locale:e}),He=(t,e)=>({startDate:ue(t,e),endDate:fe(t,e),cellHeight:0,isWide:!1,lastCurrentMonth:t,locale:e,offset:0,origin:oe,transition:!1}),ut=(t,e)=>{switch(e.type){case"setStartDate":return L(T({},t),{startDate:e.value});case"setEndDate":return L(T({},t),{endDate:e.value});case"setRange":return L(T({},t),{startDate:e.startDate,endDate:e.endDate});case"setCellHeight":return L(T({},t),{cellHeight:e.value});case"setIsWide":return L(T({},t),{isWide:e.value});case"reset":return L(T({},He(e.currentMonth,t.locale)),{cellHeight:t.cellHeight,isWide:t.isWide});case"transitionToCurrentMonth":{let{currentMonth:n}=e,{lastCurrentMonth:o,startDate:r,endDate:i,cellHeight:l}=t,a=L(T({},t),{lastCurrentMonth:n,transition:!0});if((0,p.isAfter)(n,o)){let f=-(A(r,n,t.locale)-1)*l;return L(T({},a),{endDate:fe(n,t.locale),offset:f,origin:oe})}else if((0,p.isBefore)(n,o)){let f=l*6,v=A(n,i,t.locale)*l-f;return L(T({},a),{startDate:ue(n,t.locale),offset:v,origin:de})}return t}default:throw new Error("Unknown ".concat(e.type," action type"))}};function we({locale:t,month:e,onMonthChange:n,transitionDuration:o,touchDragEnabled:r}){let i=(0,O.useRef)(void 0),l=(0,O.useRef)(null),a=(0,O.useRef)(0),[{startDate:f,endDate:v,cellHeight:d,lastCurrentMonth:D,offset:h,origin:M,transition:R,isWide:b},m]=(0,O.useReducer)(ut,He(e,t));return(0,O.useLayoutEffect)(()=>{let s=!a.current;if(!(0,p.isSameMonth)(D,e)&&s){let P=l.current;P==null||P.classList.add("-transition"),clearTimeout(i.current),Math.abs((0,p.differenceInCalendarMonths)(e,D))<=3?(m({type:"transitionToCurrentMonth",currentMonth:e}),i.current=setTimeout(()=>m({type:"reset",currentMonth:e}),o)):m({type:"reset",currentMonth:e})}},[e]),(0,O.useLayoutEffect)(()=>{if(!r)return;let s=l.current,g=d*6/2;if(s){let E=k=>{var G;clearTimeout(i.current);let I=Number((G=window.getComputedStyle(s).transform.match(/([-+]?[\d.]+)/g))==null?void 0:G[5]),C=0;if(!a.current){let Z=ue((0,p.subMonths)(e,1),t);C=(A(Z,e,t)-1)*d,m({type:"setRange",startDate:Z,endDate:fe((0,p.addMonths)(e,1),t)})}k.touches[0]&&(s.style.transform="translate3d(0, ".concat(String(I||-C),"px, 0)"),s.classList.remove("-transition"),s.classList.add("-moving"),a.current=k.touches[0].clientY+(-I||C))},y=k=>{if(!k.touches[0])return;let I=a.current,C=k.touches[0].clientY-I,G=(0,p.subMonths)(e,1),Z=(A(f,G,t)-1)*d,c=(A(f,e,t)-1)*d,U=(0,p.addMonths)(e,1),ze=(A(f,U,t)-1)*d;if(C<0)Math.abs(C)>c&&(0,p.isBefore)(v,(0,p.addMonths)(e,2))&&m({type:"setEndDate",value:fe(U,t)});else if(C>0){let ke=ue(G,t),Qe=(A(ke,e,t)-1)*d;a.current+=Qe,m({type:"setStartDate",value:ke})}let je=Math.abs(C)>ze-g,qe=Math.abs(C)>Z-g&&Math.abs(C)<c-g;je?n(U):qe&&n(G),s.style.transform="translate3d(0, ".concat(String(C),"px, 0)"),k.preventDefault()},N=k=>{let I=(A(f,e,t)-1)*d;s.style.transform="translate3d(0, ".concat(String(-I),"px, 0)"),s.classList.add("-transition"),s.classList.remove("-moving"),i.current=setTimeout(()=>{a.current=0,s.style.transform="translate3d(0, 0, 0)",s.classList.remove("-transition"),m({type:"reset",currentMonth:e})},o),k.changedTouches[0]&&Math.abs(a.current-I-k.changedTouches[0].clientY)>10&&(k.preventDefault(),k.stopPropagation())};return s.addEventListener("touchstart",E,{passive:!0}),s.addEventListener("touchmove",y,{passive:!1}),s.addEventListener("touchend",N,{passive:!1}),()=>{s.removeEventListener("touchstart",E),s.removeEventListener("touchmove",y),s.removeEventListener("touchend",N)}}}),(0,O.useEffect)(()=>{let s=()=>{let P=l.current;if(!P)return;let E=P.offsetWidth/7,y=1,N=!1;E>60?(y+=Math.round(E*.75),N=!0):y+=Math.round(E),m({type:"setIsWide",value:N}),m({type:"setCellHeight",value:y})};return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),{startDate:f,endDate:v,cellHeight:d,containerElementRef:l,offset:h,origin:M,transition:R,isWide:b}}var me=require("react/jsx-runtime");function ft(t,e){return Object.fromEntries(Object.entries(t).map(([n,o])=>[n,o(e)]))}var mt={};function pe({locale:t,month:e,modifiers:n=mt,modifiersClassNames:o,onMonthChange:r,onDayHover:i,onDayClick:l,transitionDuration:a=500,touchDragEnabled:f=!0}){let{startDate:v,endDate:d,cellHeight:D,containerElementRef:h,isWide:M,offset:R,origin:b,transition:m}=we({locale:t,month:(0,F.startOfMonth)(e),onMonthChange:r,transitionDuration:a,touchDragEnabled:f}),s=(0,F.eachDayOfInterval)({start:v,end:d}).map(P=>(0,me.jsx)(le,{date:P,height:D,locale:t,modifiers:L(T({},ft(n,P)),{outside:!(0,F.isSameMonth)(P,e),wide:M}),modifiersClassNames:o,onHover:i,onClick:l},(0,F.lightFormat)(P,"yyyy-MM-dd")));return(0,me.jsx)("div",{className:"nice-dates-grid",style:{height:D*6},children:(0,me.jsx)("div",{className:(0,Be.default)("nice-dates-grid_container",{"-moving":R,"-origin-bottom":b===de,"-origin-top":b===oe,"-transition":m}),ref:h,style:{transform:"translate3d(0, ".concat(String(R),"px, 0)"),transitionDuration:"".concat(String(a),"ms")},children:s})})}var Ae=require("react"),H=require("date-fns"),Te=require("react/jsx-runtime");function he({locale:t,weekdayFormat:e="eee"}){let n=(0,H.startOfDay)(new Date).getDate(),o=(0,Ae.useMemo)(()=>(0,H.eachDayOfInterval)({start:(0,H.startOfWeek)(n,{locale:t}),end:(0,H.endOfWeek)(n,{locale:t})}).map(r=>(0,H.format)(r,e,{locale:t})),[n,t,e]);return(0,Te.jsx)("div",{className:"nice-dates-week-header",children:o.map(r=>(0,Te.jsx)("span",{className:"nice-dates-week-header_day",children:r},r))})}var Fe=require("date-fns");var x=require("date-fns"),W=(t,{minimumDate:e,maximumDate:n})=>!(e&&(0,x.isBefore)(t,(0,x.startOfDay)(e)))&&!(n&&(0,x.isAfter)(t,n)),$=(t,e)=>e?Object.fromEntries(Object.entries(e).map(([n,o])=>{let r=t[n];return[n,r?i=>r(i)||o(i):o]})):t,re=(t,e)=>(0,x.set)(t,{hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()}),K=({startDate:t,endDate:e},{minimumLength:n,maximumLength:o})=>(0,x.differenceInDays)((0,x.startOfDay)(e),(0,x.startOfDay)(t))>=n&&(!o||(0,x.differenceInDays)((0,x.startOfDay)(e),(0,x.startOfDay)(t))<=o);var Ge=require("react");function Y(t,e,n){let[o,r]=(0,Ge.useState)(n);return e?[n!=null&&t==null?n:t,e]:[o,r]}var z=require("react/jsx-runtime");function j({locale:t,month:e=null,modifiers:n,modifiersClassNames:o,minimumDate:r=null,maximumDate:i=null,onMonthChange:l,onDayHover:a,onDayClick:f,weekdayFormat:v,touchDragEnabled:d}){let[D,h]=Y(e,l,(0,Fe.startOfMonth)(new Date)),M=$({disabled:R=>!W(R,{minimumDate:r,maximumDate:i})},n);return(0,z.jsxs)("div",{children:[(0,z.jsx)(ce,{locale:t,minimumDate:r,maximumDate:i,month:D,onMonthChange:h}),(0,z.jsx)(he,{locale:t,weekdayFormat:v}),(0,z.jsx)(pe,{locale:t,modifiers:M,modifiersClassNames:o,month:D,onMonthChange:h,onDayHover:a,onDayClick:f,touchDragEnabled:d})]})}var De=require("date-fns");var We=require("react/jsx-runtime");function ge({locale:t,date:e=null,month:n=null,onDateChange:o,onMonthChange:r,minimumDate:i,maximumDate:l,modifiers:a,modifiersClassNames:f,weekdayFormat:v,touchDragEnabled:d}){let D=m=>!!(e&&(0,De.isSameDay)(m,e)&&W(m,{minimumDate:i,maximumDate:l})),h=$({selected:D,disabled:D},a),[M,R]=Y(n,r,(0,De.startOfMonth)(e||new Date));return(0,We.jsx)(j,{locale:t,month:M,onMonthChange:R,onDayClick:m=>{o==null||o(e?re(m,e):m)},minimumDate:i,maximumDate:l,modifiers:h,modifiersClassNames:f,weekdayFormat:v,touchDragEnabled:d})}var _e=require("react"),u=require("date-fns");var Ue=require("react/jsx-runtime"),Me=()=>{};function Ce({locale:t,startDate:e=null,endDate:n=null,focus:o=null,month:r=null,onStartDateChange:i=Me,onEndDateChange:l=Me,onFocusChange:a=Me,onMonthChange:f,minimumDate:v,maximumDate:d,minimumLength:D=0,maximumLength:h,modifiers:M,modifiersClassNames:R,weekdayFormat:b,touchDragEnabled:m}){let[s,P]=(0,_e.useState)(null),[g,E]=Y(r,f,(0,u.startOfMonth)(e||n||new Date)),y=o===w&&!e&&n&&s&&!(0,u.isSameDay)(s,n)?s:e?(0,u.startOfDay)(e):null,N=o===B&&!n&&e&&s&&!(0,u.isSameDay)(s,e)?s:n?(0,u.startOfDay)(n):null,k=c=>!!(y&&N&&(0,u.isSameDay)(c,y)&&(0,u.isBefore)(c,N)),I=c=>!!(y&&N&&(0,u.isAfter)(c,y)&&(0,u.isBefore)(c,N)),C=c=>!!(y&&N&&(0,u.isSameDay)(c,N)&&(0,u.isAfter)(c,y)),G=$({selected:c=>!!(W(c,{minimumDate:v,maximumDate:d})&&(k(c)||I(c)||C(c)||e&&(0,u.isSameDay)(c,e)||n&&(0,u.isSameDay)(c,n))),selectedStart:k,selectedMiddle:I,selectedEnd:C,disabled:c=>!!(o===w&&n&&((0,u.differenceInDays)((0,u.startOfDay)(n),c)<D&&(!e||!(0,u.isAfter)(c,(0,u.startOfDay)(n)))||!e&&h&&(0,u.differenceInDays)((0,u.startOfDay)(n),c)>h)||o===B&&e&&((0,u.differenceInDays)(c,(0,u.startOfDay)(e))<D&&(!n||!(0,u.isBefore)(c,(0,u.startOfDay)(e)))||!n&&h&&(0,u.differenceInDays)(c,(0,u.startOfDay)(e))>h))},M);return(0,Ue.jsx)(j,{locale:t,month:g,onMonthChange:E,onDayHover:P,onDayClick:c=>{if(o===w)n&&!K({startDate:c,endDate:n},{minimumLength:D,maximumLength:h})&&l(null),i(e?re(c,e):c),a(B);else if(o===B){let U=e&&!K({startDate:e,endDate:c},{minimumLength:D,maximumLength:h});U&&i(null),l(n?re(c,n):c),a(U||!e?w:null)}},minimumDate:v,maximumDate:d,modifiers:G,modifiersClassNames:R,weekdayFormat:b,touchDragEnabled:m})}var Je=te(require("react")),Xe=te(require("classnames")),Ve=require("react/jsx-runtime"),q=Je.default.forwardRef(function({children:e,open:n},o){return(0,Ve.jsx)("div",{className:(0,Xe.default)("nice-dates-popover",{"-open":n}),ref:o,children:e})});var ye=require("react");var ae=require("react"),Q=require("date-fns");function J({date:t=null,format:e,locale:n,minimumDate:o=null,maximumDate:r=null,onDateChange:i,validate:l}){var P;let a=e||((P=n.formatLong)==null?void 0:P.date({width:"short"})),f=g=>(0,Q.format)(g,a,{locale:n}),v=g=>(0,Q.parse)(g,a,t||new Date),d=g=>(0,Q.isValid)(g)&&W(g,{minimumDate:o,maximumDate:r})&&(!l||l(g)),[D,h]=(0,ae.useState)(()=>d(t)?f(t):""),[M,R]=(0,ae.useState)(!1),b=()=>{R(!0)},m=g=>{let E=g.target.value,y=v(E);h(E),d(y)&&i(y)},s=()=>{if(D){let g=v(D);d(g)?h(f(g)):d(t)?h(f(t)):h("")}else t&&i(null);R(!1)};return(0,ae.useEffect)(()=>{M||h(d(t)?f(t):"")},[t,M]),{onFocus:b,onChange:m,onBlur:s,placeholder:a.toLowerCase(),type:"text",value:D}}var ve=require("react");function Pe(){let[t,e]=(0,ve.useState)(!1);return(0,ve.useEffect)(()=>{let n=()=>e(!0);return document.addEventListener("touchstart",n,{passive:!0,once:!0}),()=>document.removeEventListener("touchstart",n)},[]),t}var _=require("react");function Re(t){let e=(0,_.useRef)(null),n=(0,_.useRef)(null),o=(0,_.useRef)(null),r=(0,_.useRef)(t);return(0,_.useEffect)(()=>{r.current=t},[t]),(0,_.useEffect)(()=>{let i=l=>{let a=l.target;(!e.current||"contains"in e.current&&!e.current.contains(a))&&(!n.current||"contains"in n.current&&!n.current.contains(a))&&(!o.current||"contains"in o.current&&!o.current.contains(a))&&r.current()};return document.addEventListener("click",i,{passive:!0}),()=>document.removeEventListener("click",i)},[]),[e,n,o]}var se=require("react/jsx-runtime"),pt=()=>{};function $e({children:t,locale:e,date:n=null,onDateChange:o=pt,format:r,minimumDate:i,maximumDate:l,modifiers:a,modifiersClassNames:f,weekdayFormat:v,touchDragEnabled:d}){let[D,h]=(0,ye.useState)(()=>n||new Date),[M,R]=(0,ye.useState)(!1),b=Pe(),[m,s]=Re(()=>{M&&R(!1)}),P=J({date:n,format:r,locale:e,minimumDate:i,maximumDate:l,onDateChange:E=>{o(E),E&&h(E)}}),g=E=>{o(E),R(!1)};return(0,se.jsxs)("div",{className:"nice-dates",children:[t({inputProps:L(T({},P),{ref:m,onFocus:()=>{P.onFocus(),R(!0),b&&m.current&&m.current.blur()},readOnly:b}),focused:M}),(0,se.jsx)(q,{open:M,ref:s,children:(0,se.jsx)(ge,{locale:e,date:n,month:D,onDateChange:g,onMonthChange:h,minimumDate:i,maximumDate:l,modifiers:a,modifiersClassNames:f,weekdayFormat:v,touchDragEnabled:d})})]})}var be=require("react");var ie=require("react/jsx-runtime"),Ke=()=>{};function Ye({children:t,locale:e,startDate:n=null,endDate:o=null,onStartDateChange:r=Ke,onEndDateChange:i=Ke,format:l,minimumDate:a,maximumDate:f,minimumLength:v=0,maximumLength:d,modifiers:D,modifiersClassNames:h,weekdayFormat:M,touchDragEnabled:R}){let[b,m]=(0,be.useState)(null),[s,P]=(0,be.useState)(()=>n||o||new Date),g=Pe(),[E,y,N]=Re(()=>m(null)),k=J({date:n,format:l,locale:e,maximumDate:f,minimumDate:a,onDateChange:C=>{r(C),C&&P(C)},validate:C=>!o||K({startDate:C,endDate:o},{minimumLength:v,maximumLength:d})}),I=J({date:o,format:l,locale:e,maximumDate:f,minimumDate:a,onDateChange:C=>{i(C),C&&P(C)},validate:C=>!n||K({startDate:n,endDate:C},{minimumLength:v,maximumLength:d})});return(0,ie.jsxs)("div",{className:"nice-dates",children:[t({startDateInputProps:L(T({},k),{onFocus:()=>{k.onFocus(),m(w),g&&E.current&&E.current.blur()},ref:E,readOnly:g}),endDateInputProps:L(T({},I),{onFocus:()=>{I.onFocus(),m(B),g&&y.current&&y.current.blur()},ref:y,readOnly:g}),focus:b}),(0,ie.jsx)(q,{open:!!b,ref:N,children:(0,ie.jsx)(Ce,{locale:e,startDate:n,endDate:o,focus:b,month:s,onStartDateChange:r,onEndDateChange:i,onFocusChange:m,onMonthChange:P,minimumDate:a,maximumDate:f,minimumLength:v,maximumLength:d,modifiers:D,modifiersClassNames:h,weekdayFormat:M,touchDragEnabled:R})})]})}0&&(module.exports={Calendar,CalendarDay,CalendarGrid,CalendarNavigation,CalendarWeekHeader,DatePicker,DatePickerCalendar,DateRangePicker,DateRangePickerCalendar,END_DATE,Popover,START_DATE,useDateInput});
//# sourceMappingURL=index.js.map